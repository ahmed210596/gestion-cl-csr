<div class="container">
  <h2>Add CSR</h2>
  <form [formGroup]="angForm" (ngSubmit)="postdata()" class="needs-validation" novalidate>
    <div class="form-group">
      <label for="serial">Serial:</label>
      <select formControlName="serial" class="form-control" required>
        <option value="">Select a serial</option>
        <option *ngFor="let serial of serials" [value]="serial.id" >{{ serial.serial_number }}</option>
      </select>
      <div class="invalid-feedback" *ngIf="angForm.get('serial')?.invalid && angForm.get('serial')?.touched">
        Please select a valid serial.
      </div>
    </div>
    <div class="form-group">
      <label for="product">Product:</label>
      <select formControlName="product" class="form-control" required>
        <option value="">Select a product</option>
        <option *ngFor="let product of products" [value]="product.id">{{ product.product_code }}</option>
      </select>
      <div class="invalid-feedback" *ngIf="angForm.get('product')?.invalid && angForm.get('product')?.touched">
        Please select a valid product.
      </div>
    </div>
    <div class="form-group">
      <label for="country">Country:</label>
      <input type="text" formControlName="country" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid country.</div>
    </div>
    <div class="form-group">
      <label for="state">State:</label>
      <input type="text" formControlName="state" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid state.</div>
    </div>
    <div class="form-group">
      <label for="locality">Locality:</label>
      <input type="text" formControlName="locality" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid locality.</div>
    </div>
    <div class="form-group">
      <label for="organization">Organization:</label>
      <input type="text" formControlName="organization" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid organization.</div>
    </div>
    <div class="form-group">
      <label for="org_unit">Org Unit:</label>
      <input type="text" formControlName="org_unit" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid organization unit.</div>
    </div>
    <div class="form-group">
      <label for="common_name">Common Name:</label>
      <input type="text" formControlName="common_name" class="form-control" required>
      <div class="invalid-feedback">Please enter a valid common name.</div>
    </div>
    <div class="form-group">
      <label for="duree">Duration:</label>
      <select formControlName="duree" class="form-control" required>
        <option value="">Select a duration</option>
        <option  [value]="86400">24h</option>
        <option  [value]="259200">72h</option>
        <option  [value]="604800">7j</option>
        <option  [value]="1209600">14j</option>
      </select>

      <div class="invalid-feedback" *ngIf="angForm.get('duree')?.invalid && angForm.get('duree')?.touched">
        Please select a valid product.
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>

